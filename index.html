<!DOCTYPE html>
<!DOCTYPE html>
<html lang="de">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
        <!--<link rel="stylesheet" type="text/css" href="./widgets_js/widgets_white_bg.css">
        <link rel="stylesheet" type="text/css" href="./css/main.css">-->
    </head>
<body style="font-family: Helvetica,Arial,sans; font-size: 17px;">
<div id="main">
    <div id="figureContainer1" style="float: left; padding-right: 20px;"></div>
    <div id="figureContainer2"></div>
    <div id="figureContainer3" style="float: left; padding-right: 20px;"></div>
    <div id="figureContainer4"></div>
</div>
<div id="gallery">    
</div>
<br/>
<br/>
<br/>
<!-- <input id="log_dt" type="range" min="0" max="3" step="0.05" value="2" style="width:250px;"/> 
<label id="speed">speed</label><br/> -->
 <script src="/d3.v4/d3.v4.min.js"></script>
<!--<script src="https://d3js.org/d3.v4.min.js"></script>-->
<!-- <script src="keybinding.js"></script> -->
<script src="./fisheye.js"></script>
<script src="./fisheye_display.js"></script>
<script>

/*
var this_url =  window.location.href;
var url = new URL(this_url);
var scale = url.searchParams.get("scale");
var data = url.searchParams.get("data");
console.log(scale);
if ((scale == "null") || (scale === null))
    scale = 1;
if ((data == "null") || (data === null))
    data = "ht09";

console.log(scale);
*/
var width = 300;
var eye = new fisheye(width/3,3,0.4);
var eye_sarkar = new fisheye(width/3,1.5,0.5,mode='sarkar');
eye.rangeX([0, width]);
eye.rangeY([0, width]);
eye_sarkar.rangeX([0, width]);
eye_sarkar.rangeY([0, width]);
//eye.focus([width/2,width/2]);
var display1 = new fisheyeDisplay("#figureContainer1",width,10,eye);
var display3 = new fisheyeDisplay("#figureContainer3",width,10,eye_sarkar);
var display2 = new fisheyeDisplay("#figureContainer2",width,10,eye,mode='cartesian');
var display4 = new fisheyeDisplay("#figureContainer4",width,10,eye_sarkar, mode='cartesian');

var displays = [ display1, display2, display3, display4 ];
draw();

d3.selectAll(".gridview").on("mousemove", function () {
            let x = d3.event.layerX || d3.event.offsetX; 
            let y = d3.event.layerY || d3.event.offsetY;
            eye.focus([x,y]);
            eye_sarkar.focus([x,y]);
            draw();
        })
        .on("mouseout", function () {
            eye.focus(null);
            eye_sarkar.focus(null);
            draw();
        });

function draw() {
    displays.forEach( function (d) {
        d.draw();
    });
}

//var controls ;
//var timer = d3.timeout( function () { controls = new temporalNetworkControlWidget(figure,"controlContainer"); }, 1000 ); 

</script>
</body>
